<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"> 
    <title>网页代码助手在线编辑器</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/5.1.3/css/bootstrap.min.css"> 
    <script src="https://cdn.staticfile.org/codemirror/5.40.2/codemirror.min.js"></script>
    <link rel="shortcut icon" href="https://static.runoob.com/images/favicon.ico" mce_href="//static.runoob.com/images/favicon.ico" type="image/x-icon" >
	<link rel="stylesheet" href="https://cdn.staticfile.org/codemirror/5.40.2/codemirror.min.css">
	<script src="https://cdn.staticfile.org/codemirror/5.40.2/mode/htmlmixed/htmlmixed.min.js"></script>
	<script src="https://cdn.staticfile.org/codemirror/5.40.2/mode/css/css.min.js"></script>
	<script src="https://cdn.staticfile.org/codemirror/5.40.2/mode/javascript/javascript.min.js"></script>
	<script src="https://cdn.staticfile.org/codemirror/5.40.2/mode/xml/xml.min.js"></script>
	<script src="https://cdn.staticfile.org/codemirror/5.40.2/addon/edit/closetag.min.js"></script>
	<script src="https://cdn.staticfile.org/codemirror/5.40.2/addon/edit/closebrackets.min.js"></script> 
    <script src="https://cdn.staticfile.org/split.js/1.6.5/split.min.js"></script>
    <script src="https://cdn.staticfile.org/downloadjs/1.4.8/download.min.js"></script>
    
	<!--[if lt IE 9]>
	<script src="//cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
	<![endif]-->

<style>
body{background: #f6f6f6;}
   .split {
    display: flex;
    flex-direction: row;
}


#iframeResult {
  display: block;
  height:100%;
  width:100%;  
}

.gutter {
    background-color: #f6f6f6;
    background-repeat: no-repeat;
    background-position: 50%;
}

.gutter.gutter-horizontal {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==');
    cursor: col-resize;
}
</style>
</head>
<body>



        <div class="container-fluid d-grid gap-3 align-items-center" style="grid-template-columns: 2fr 1fr;">
          <div class="logo">
            </a>
           
          </div>
      
          <div class="d-flex align-items-center">
            </form>
            
          </div>
        </div>
      </header>

      
      <div class="container-fluid pb-3">
        <div class="split">
            <div id="split-0" class="bg-body rounded shadow-sm ">
              <div class="card" >
                <div class="card-header">
                  <button type="button" onclick="downloadCode()" class="btn btn-outline-dark p-2"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cloud-download-fill" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M8 0a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 4.095 0 5.555 0 7.318 0 9.366 1.708 11 3.781 11H7.5V5.5a.5.5 0 0 1 1 0V11h4.188C14.502 11 16 9.57 16 7.773c0-1.636-1.242-2.969-2.834-3.194C12.923 1.999 10.69 0 8 0zm-.354 15.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 14.293V11h-1v3.293l-2.146-2.147a.5.5 0 0 0-.708.708l3 3z"/>
</svg> 下载代码</button>
                  <button type="button" class="btn btn-success float-end" onclick="submitTryit()" id="submitBTN">
          点击运行 》
                  </button>
                </div>
                <div class="card-body" style="padding:0">
                  <textarea class="form-control" id="textareaCode" name="textareaCode">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;title&gt;网页代码助手&lt;/title&gt;
&lt;style&gt;

&lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;

&lt;h1&gt;Hello world&lt;/h1&gt;
&lt;p&gt;工程创建成功！&lt;/p&gt;


&lt;/body&gt;
&lt;/html&gt;</textarea>
                </div>
              </div>
            </div>
            <div id="split-1" class="bg-body rounded shadow-sm">
              <div class="card">
                <div class="card-header">
                  <button type="button" class="btn btn-outline-secondary">运行结果：</button>
                  <button type="button" class="btn btn-warning float-end"  id="framesize"></button>
                </div>
                <div class="card-body" >
                  <div id="iframewrapper"></div>
                </div>
              </div>
            </div>
        </div>
        
        <footer class="py-1 my-2">
          <div class="text-center border-bottom pb-2"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5751451760833794"
     crossorigin="anonymous"></script>
<!-- 移动版 自动调整 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-5751451760833794"
     data-ad-slot="1691338467"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
          <p class="text-center text-muted p-2"> <a target="_blank" href="https://2s44.github.io/h5.github/">网页代码助手</a></p>
        </footer>
      </div>

      

<script>
var mixedMode = {
name: "htmlmixed",
scriptTypes: [{matches: /\/x-handlebars-template|\/x-mustache/i,
               mode: null},
              {matches: /(text|application)\/(x-)?vb(a|script)/i,
               mode: "vbscript"}]
};
var editor = CodeMirror.fromTextArea(document.getElementById("textareaCode"), {
	mode: mixedMode,
	selectionPointer: true,
	lineNumbers: true,
	matchBrackets: true,
	indentUnit: 4,
	indentWithTabs: true
});

window.addEventListener("resize", autodivheight);

var x = 0;
function autodivheight(){
    var winHeight=0;
    if (window.innerHeight) {
        winHeight = window.innerHeight;
    } else if ((document.body) && (document.body.clientHeight)) {
        winHeight = document.body.clientHeight;
    }
    //通过深入Document内部对body进行检测，获取浏览器窗口高度
    if (document.documentElement && document.documentElement.clientHeight) {
        winHeight = document.documentElement.clientHeight;
    }
    height = winHeight*0.68 + 4
    editor.setSize('100%', height+28); 
    document.getElementById("iframeResult").style.height= height +"px";
    showFrameSize();
    
}
function resetCode() {
  var initCode = "<!DOCTYPE html>\n<html>\n<head>\n<meta charset=\"utf-8\">\n<title>\u83dc\u9e1f\u6559\u7a0b(runoob.com)<\/title>\n<style>\nbody {\n\tbackground-color:#d0e4fe;\n}\nh1 {\n\tcolor:orange;\n\ttext-align:center;\n}\np {\n\tfont-family:\"Times New Roman\";\n\tfont-size:20px;\n}\n<\/style>\n<\/head>\n\n<body>\n\n<h1>CSS \u5b9e\u4f8b!<\/h1>\n<p>\u8fd9\u662f\u4e00\u4e2a\u6bb5\u843d\u3002<\/p>\n\n<\/body>\n<\/html>"  
  editor.getDoc().setValue(initCode);
  submitTryit();
}
function submitTryit() {
  var text = editor.getValue();
  var patternHtml = /<html[^>]*>((.|[\n\r])*)<\/html>/im
  var patternHead = /<head[^>]*>((.|[\n\r])*)<\/head>/im
  var array_matches_head = patternHead.exec(text);
  var patternBody = /<body[^>]*>((.|[\n\r])*)<\/body>/im;
  
  var array_matches_body = patternBody.exec(text);
  var basepath_flag = 1;
  var basepath = '';
  if(basepath_flag) {
    basepath = '<base href="https://www.runoob.com/try/demo_source/" target="_blank">';
  }
  if(array_matches_head) {
    text = text.replace('<head>', '<head>' + basepath );
  } else if (patternHtml) {
    text = text.replace('<html>', '<head>' + basepath + '</head>');
  } else if (array_matches_body) {
    text = text.replace('<body>', '<body>' + basepath );
  } else {
    text = basepath + text;
  }
  var ifr = document.createElement("iframe");
  ifr.setAttribute("frameborder", "0");
  ifr.setAttribute("id", "iframeResult");  
  
  document.getElementById("iframewrapper").innerHTML = "";
  document.getElementById("iframewrapper").appendChild(ifr);
 
  var ifrw = (ifr.contentWindow) ? ifr.contentWindow : (ifr.contentDocument.document) ? ifr.contentDocument.document : ifr.contentDocument;
  ifrw.document.open();
  ifrw.document.write(text);  
  ifrw.document.close();
  autodivheight();
}
submitTryit();
autodivheight();

Split(['#split-0', '#split-1']);

function runoob_getStyleValue(elmnt,style) {
    if (window.getComputedStyle) {
        return window.getComputedStyle(elmnt,null).getPropertyValue(style);
    } else {
        return elmnt.currentStyle[style];
    }
}
function showFrameSize() {
    var t;
    var width, height;
    width = Number(runoob_getStyleValue(document.getElementById("iframeResult"), "width").replace("px", "")).toFixed();
    height = Number(runoob_getStyleValue(document.getElementById("iframeResult"), "height").replace("px", "")).toFixed();
    document.getElementById("framesize").innerHTML = "尺寸: <span>" + width + " x " + height + "</span>";
    
}

function downloadCode() {
  download(editor.getValue(), "runoob-trycss_default.html", "text/html");
}
</script>
<div style="display:none;">
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?3eec0b7da6548cf07db3bc477ea905ee";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();

</div>
</body>
</html>
